# 프로젝트 소개 🙂

바닐라 타입스크립트로 구현한 웹툰 검색기 입니다.
<br>
보러가기 ->
<br>

## 기술 스택 🛠

- TypeScript
- SCSS
- Webpack
- Bable
- ES Lint
- Prettier
  <br>

## UI 디자인 ✨

|                                                                     메인 화면                                                                      |                                                                  검색 했을 때 화면                                                                   |
| :------------------------------------------------------------------------------------------------------------------------------------------------: | :--------------------------------------------------------------------------------------------------------------------------------------------------: |
| <img width="600" alt="검색 메인 화면" src="https://user-images.githubusercontent.com/97894417/206394586-e0687543-e556-4e38-b70c-79e201571514.png"> | <img width="600" alt="검색 했을때 화면" src="https://user-images.githubusercontent.com/97894417/206394582-0f707bed-3e7d-4977-a621-b8b3a7de2ee4.png"> |

<br>

## 구현기능 🦾

|                                                             검색                                                              |                                                                   검색 키워드 강조                                                                   |
| :---------------------------------------------------------------------------------------------------------------------------: | :--------------------------------------------------------------------------------------------------------------------------------------------------: |
| ![검색기능시연](https://user-images.githubusercontent.com/97894417/206393584-e4122069-ecec-46c4-b791-b5cbc331df6b.gif) | <img width="600" alt="검색 키워드 강조" src="https://user-images.githubusercontent.com/97894417/206393836-9966f661-2eba-4a35-ac4d-57b8c5074b47.png"> |

- **검색** : 제목, 작가명으로 검색가능
- **캐싱** : 새로고침시 현재 검색한 키워드, 검색 리스트, 리스트 스크롤 위치 유지
- **검색 키워드 강조** : 검색한 키워드중 매칭되는 텍스트를 강조
- **키보드 이벤트**(검색 결과 리스트를 키보드로도 조작 가능)
  - `상향 방향키` : 리스트 목록 상향이동
  - `하향 방향키` : 리스트 목록 하향이동
  - `Enter` : 리스트 상세보기
  - `Escape` : 모달 팝업 닫기
- 초기 화면 진입시 input focusing
- 검색 키워드 없을 시 API요청 방지
- 검색창에 debounce를 구현해 무분별한 API요청 방지

<br>

## 디렉토리 구조 📁

- `/api` : api 요청 관련
- `/components` : 컴포넌트들의 집합
  - `/core` : 모든 컴포넌트의 기본이되는 코어 컴포넌트
  - `/search` : 도메인 컴포넌트의 집합
- `/constants` : 전역으로 사용되는 상수들의 집합
- `/scss` : scss 스타일
- `/utils` : 전역으로 사용되는 함수들의 집합
  - `/dom` : dom조작 관련 함수
  - `/helpers` : 기능로직 관련 함수
  - `/storage` : 스토리지 관련 함수

<br>

## Challenges 🫠

기능 개발을 하며 겪은 이슈들

<details markdown="1">
<summary>자세히 보기</summary>

### 1. 렌더링 후 스크롤 위치 초기화 되는 현상

모달 팝업을 닫은 후 검색 화면으로 되돌아 왔을 때 검색 리스트가 새로 렌더링되어 이전 검색 스크롤 위치가 초기화되었다.
이는 사용자가 이전에 보았던 화면을 다시 찾기위해 스크롤을 내려야만하는 문제를 발생시켰다.
화면을 이동한 뒤 다시 돌아왔을 때에도 사용자가 검색한 기록과 현재 상황이 저장되어야 했다.

새로고침시 유지되면 좋은 것은 무엇일까?

1. 검색창에 현재 검색한 키워드
2. 검색 리스트
3. 검색 리스트 스크롤 위치

- 이때 단순히 스크롤한 위치가 아닌 아이템을 클릭한 시점의 스크롤 위치가 필요하다.
- 키보드로 리스트 이동시 스크롤도 같이 이동해야하는 조건

스크롤의 위치를 저장하기 위해 웹스토리지에 저장하는 방식을 선택했다. 처음엔 스크롤의 위치자체를 저장했는데 아이템을 클릭한 순간의 위치만 기억하고 다시 돌아왔을때 그 위치값으로 스크롤링하면 되기때문에 클릭한 시점의 스크롤 위치만 저장해서 사용했다. 현재 키보드이벤트가 발생하는 인덱스 값 조건에 따라 계산후 scrollTo를 사용해 이동시킨다. 사용자가 클릭한 아이템, 즉 현재 위치한 인덱스는 사용자의 편의성을 위해 항상 중앙에 위치해야함으로 이 위치를 계산해 조건문에 추가했다.

### 2. GET 요청을 통해 데이터를 받아올 때 콘솔 창에 undefinde 요청이 뜨는 현상

바닐라 자바스크립트로 구현하다보니 조건부 렌더링을 `display:none`을 사용했다. 이때문에 모든 컴포넌트는 항상 렌더링되어있는 상황이었고 모달컴포넌트도 마찬가지였다. 모달컴포넌트를 그리기위해 필요한 정보들 중에서 검색 키워드가 없을 경우엔 모든 `text` 문구에 `undefinde`값이 저장되었다. 조건부 렌더링방식을 바꿔야하나 고민하다 모달을 그려주는 부분에 `default`값을 주어 데이터를 받아오지 않았을때는 `default`값을 사용하도록했다.

</details>
